## 数位DP





### 338.计数问题

统计[a, b]之间的数中，按十进制看出现各个数字（0/1/2/.../9）的个数

思路：分情况讨论

- `count(n, x)`：统计1～n中x出现的次数
  - 结果为x在每一位上出现的次数之和
  - e.g 求出x=1在1～abcdefg中所有数的第4位上出现的次数，即 1 <= xxx1yyy <= abcdefg
    - (1) xxx = 000～abc-1：则yyy可以取到000～999，共abc * 1000个符合要求的数
    - (2) xxx = abc：则继续分类讨论
      - 若d < 1，则有abc1yyy 必然大于 abc0efg，yyy没得取，共0个数
      - 若d = 1，则 yyy可取000～efg，共efg+1个数
      - 若d > 1，则 yyy可取000～999，共1000个数
  - 边界情况：
    - x出现在头上，则没有情况(1)
    - x为0的时候，(1)的情况没有000的情况，因为这样指定位的0也会被算入前导零
    - x为0且在头上，此时(2)情况的第3点同样会保留前导零，这些不能算入
- 前缀和思想：题目所问即为`count(b, x) - count(a-1, x)`

复杂度：很快，单次询问中包括 10个数字 * 2次count * 数范围最多8个数位 * 每个数位都要计算10个数字 * 分类讨论O(1) = 1600次即可，反正O(1)的级别

遇到bug：计算abc（数字序列到数值）时，搞反了，应该从高位开始加起