### 841. 字符串哈希

可替换kmp用于串匹配；就是 KarpRabin 串匹配算法

字符串前缀哈希法：对于 `"abcd"`

- `h[0] = 0`
- `h[1] = hash("a")`
- `h[2] = hash("ab")`
- `h[3] = hash("abc")` ...

定义字符串的hash函数：将字符串看作p进制的数，然后再取模q

- 每一位的字符不能映射为0，要有权重：否则'a', 'aa', 'aaa' ...就相同了
- 假设不存在冲突（其实冲突了就得老实的串匹配了）；经验发现 p = 131 或 p = 13331，q = $2^{64}$ 时，基本可以认为冲突不会发生

1. 求字符串任意区间[l, r]子串的hash值

```
string   [-------------L----------R---------]
       0 1            |           |         n
 h[R]   p^{R-1}  ...  |          p^0
h[L-1]  p^{L-2}  ... p^0 

h[l, r] = h[R] - h[L-1] * p^{R-L+1}   // R-L+1就是把h[L-1]的值移到R不需要的高位
```

2. 由于 `q = 2^{64}`，所以不妨直接用 `unsigned long long`存，这样就无需取模操作了
3. 一开始求 `h[i]`：即 `h[i] = h[i-1] * p + str[i]`


其他题目： 138.兔子与兔子  139.回文串的最大长度  140.后缀数组

字符串的循环节：KMP
