## 状态压缩dp

将某维状态看作**二进制数**，用此数表示某种方案的具体情况，数组内容则是方案数

通过将**状态压缩为整数**来达到优化转移的目的

tip: 数据范围较小时可以考虑，因为状压的状态个数不能很多，比如n=20时，$2^20 \approx 10^6$的空间了，这个枚举量也差不多极限了

### 291. 蒙德里安的梦想

求将N\*M的棋盘分割成若干1\*2长方形的方案数

思路

- 当横向方格摆完后，纵向方格就只能顺次的摆完1种方案，不会出现多余方案；所以只看横向摆即可
-  `dp[i][j]` 
  - 状态表示：i表示列，而j则是以二进制形式存储第i列上放了横向方格(记横方格定位在**右侧方格处**)的情况
  - 状态计算：从i-1转移到i的过程方案依然成立(记摆放情况为k和j)，需满足以下条件
    - 两处的摆放没有重叠，即 `(j & k) == 0`
    - i-1处留出的纵向格子数必须为偶数，否则无法填纵向格子，即 `j | k`不存在连续奇数个0
    - 满足条件后即有 `dp[i][j] = dp[i][j] + dp[i-1][k]`
  - 复杂度：状态数 = 最大格子数11 \* $2^{11}$；转移枚举数量$2^{11}$ ；所以总共约 $4 \times 10^7$，不会超

实现

- 首列为0，因为方格右侧肯定不能出现在首列



### 91. 最短Hamilton路径

回顾

- 哈密顿回路：有向/无向图中恰好将图中所有顶点各访问一次的回路
  - **哈密顿通路**：即不形成回路即可；哈密顿图：包含哈密顿**回路**的图
  - TSP旅行商问题：找权值最小的哈密顿回路
  - 找一个哈密顿回路，是NP完全问题
- 欧拉回路：有向/无向图中恰好将图中所有边各经过一次的回路

TODO：判断方法



此题：从0走到n-1的最短哈密顿**通路**

思路

- 还是用整数表示状态
- `dp[i][j]` 
  - 状态表示：【集合】从0走到j，**走过的所有点是i**的所有路径【属性】min
    - 状态压缩到`i`中：一个二进制数，每一位对应一个点，每一位表示当前这个点是否走过
  - 状态计算：对于`dp[i][j]`，按倒数第二个点进行分类[0],[1],...[n-1]，记为k。
    - 路径为$0 \longrightarrow k \to j$ ，则有`dp[i][j] = min(\forall k: dp[i-{j}, k] + a[k][j])`

,